### üîÅ –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

–£–∫–∞–∂–∏ **–Ω–æ–º–µ—Ä –ø—Ä–µ–¥—ã–¥—É—â–µ–π** –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
python manage.py migrate books 0002
```
‚Üí –û—Ç–∫–∞—Ç–∏—Ç –≤—Å—ë, —á—Ç–æ —Å–¥–µ–ª–∞–ª–∞ –º–∏–≥—Ä–∞—Ü–∏—è `0003`.
–ß—Ç–æ–±—ã **–æ—Ç–∫–∞—Ç–∏—Ç—å –≤—Å—ë** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `zero`:
```bash
python manage.py migrate books zero
```
‚Üí –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `books`

### ‚ö†Ô∏è –ö–æ–≥–¥–∞ –æ—Ç–∫–∞—Ç –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω

–ú–∏–≥—Ä–∞—Ü–∏—è **–Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞**, –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç **–Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- `RunSQL("DROP TABLE ...")`
- `RunPython` –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è/–º–æ–¥–µ–ª–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ Django –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É:
```text
django.db.migrations.exceptions.IrreversibleError
```
### –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å `RunPython` –æ–±—Ä–∞—Ç–∏–º—ã–º

–£–∫–∞–∂–∏ –≤—Ç–æ—Ä—É—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äî –¥–ª—è –æ—Ç–∫–∞—Ç–∞:
```python
def forwards(apps, schema_editor):
    # –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
    MyModel = apps.get_model("myapp", "MyModel")
    MyModel.objects.create(name="test")

def backwards(apps, schema_editor):
    # –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç
    MyModel = apps.get_model("myapp", "MyModel")
    MyModel.objects.filter(name="test").delete()

migrations.RunPython(forwards, reverse_code=backwards)
```
‚Üí –ë–µ–∑ `reverse_code` ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ–π.

---

### üí° –í–∞–∂–Ω–æ

- –ù–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å **–±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏).
- Django **–Ω–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ**, —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤–∞–∂–Ω—ã, –ø—Ä–æ–¥—É–º—ã–≤–∞–π –æ–±—Ä–∞—Ç–Ω—É—é –ª–æ–≥–∏–∫—É —Å–∞–º.
- –û—Ç–∫–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –ø–æ —Ü–µ–ø–æ—á–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –Ω–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é, –µ—Å–ª–∏ –æ—Ç –Ω–µ—ë –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏.

---

### ‚úÖ –ò—Ç–æ–≥

- –û—Ç–∫–∞—Ç ‚Äî —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ `zero`.
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ **–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏–º—ã**.
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–¥–∞ (`RunPython`, `RunSQL`) ‚Äî —è–≤–Ω–æ –∑–∞–¥–∞–≤–∞–π –ª–æ–≥–∏–∫—É –æ—Ç–∫–∞—Ç–∞.