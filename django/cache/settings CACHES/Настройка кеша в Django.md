–ö—ç—à –≤ Django **–Ω–µ –≤–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**. –¢—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `CACHES` –≤ `settings.py`.
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∞ –∑–∞–¥–∞—ë—Ç—Å—è –≤ `settings.py` —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä—å `CACHES`.  
–ö–∞–∂–¥—ã–π –∫—ç—à ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ (–æ–±—ã—á–Ω–æ `"default"`).
## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```python
CACHES = {
    "default": {
        "BACKEND": "...",      # –ö–ª–∞—Å—Å –±—ç–∫–µ–Ω–¥–∞
        "LOCATION": "...",     # –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
        "TIMEOUT": 300,        # –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
        "OPTIONS": { ... },    # –î–æ–ø. –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
    }
}
```

## –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
### `BACKEND`

**–ß—Ç–æ**: –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∫–ª–∞—Å—Å—É –±—ç–∫–µ–Ω–¥–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.  
**–ó–∞—á–µ–º**: –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Ç–∏–ø –∫—ç—à–∞** (Redis, Memcached, —Ñ–∞–π–ª –∏ —Ç.–¥.).

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**:
- `django.core.cache.backends.redis.RedisCache`
- `django.core.cache.backends.memcached.PyMemcacheCache`
- `django.core.cache.backends.filebased.FileBasedCache`
- `django.core.cache.backends.locmem.LocMemCache`

> ‚ö†Ô∏è –î–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Python-–ø–∞–∫–µ—Ç–∞–º (`redis`, `pymemcache` –∏ —Ç.–¥.).

### `LOCATION`

**–ß—Ç–æ**: —É–∫–∞–∑—ã–≤–∞–µ—Ç, **–≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∞**.  
**–§–æ—Ä–º–∞—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—ç–∫–µ–Ω–¥–∞**:

| –ë—ç–∫–µ–Ω–¥     | –ü—Ä–∏–º–µ—Ä `LOCATION`                                             |
| ---------- | ------------------------------------------------------------- |
| Redis      | `"redis://127.0.0.1:6379/1"`                                  |
| Memcached  | `"127.0.0.1:11211"` –∏–ª–∏ —Å–ø–∏—Å–æ–∫ `["srv1:11211", "srv2:11211"]` |
| File-based | `"/var/tmp/django_cache"` (–ø—É—Ç—å –∫ –ø–∞–ø–∫–µ)                      |
## –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ, –Ω–æ –≤–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### `TIMEOUT`

**–¢–∏–ø**: `int` (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)  
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `300` (5 –º–∏–Ω—É—Ç)  
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**: –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∑–∞–ø–∏—Å–∏ –≤ –∫—ç—à–µ.

- `0` ‚Äî –∫—ç—à **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å—Ç–µ–∫–∞–µ—Ç** (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
- `None` ‚Äî —Ç–æ–∂–µ ¬´–Ω–∏–∫–æ–≥–¥–∞¬ª (–Ω–æ –ª—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è **–≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `60 * 15` = 15 –º–∏–Ω—É—Ç)
### `OPTIONS`

**–ß—Ç–æ**: —Å–ª–æ–≤–∞—Ä—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏, **–∑–∞–≤–∏—Å—è—â–∏–º–∏ –æ—Ç –±—ç–∫–µ–Ω–¥–∞**.
#### –î–ª—è Redis (–ø—Ä–∏–º–µ—Ä):
```python
"OPTIONS": {
    "MAX_ENTRIES": 1000,      # –º–∞–∫—Å. –∑–∞–ø–∏—Å–µ–π (–∑–∞—â–∏—Ç–∞ –æ—Ç OOM)
    "CONNECTION_POOL_KWARGS": {"max_connections": 50},
}
```
#### –î–ª—è Memcached (–ø—Ä–∏–º–µ—Ä):
```python
"OPTIONS": {
    "serde": pymemcache.serde.pickle_serde,
    "allow_unicode_keys": True,
}
```
## –í–∏–¥—ã –∫–µ—à–∞

### 1. üü¢ Redis (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü–ª—é—Å—ã**: –±—ã—Å—Ç—Ä—ã–π, –≥–∏–±–∫–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é, TTL.  
**–ú–∏–Ω—É—Å—ã**: —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.
#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
pip install redis
# (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) pip install hiredis
```
#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
```python
CACHES = {
    "default": {
        "BACKEND": "django.core.cache.backends.redis.RedisCache",
        "LOCATION": "redis://127.0.0.1:6379/1",
        "TIMEOUT": 900,  # 15 –º–∏–Ω—É—Ç
    }
}
```
### 2. ‚ö™ Memcached (–∫–ª–∞—Å—Å–∏–∫–∞)
**–ü–ª—é—Å—ã**: –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä.  
**–ú–∏–Ω—É—Å—ã**: —Ç–æ–ª—å–∫–æ key-value, –Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä, —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
sudo apt install memcached  # Linux
pip install pymemcache
```
#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
```python
CACHES = {
    "default": {
        "BACKEND": "django.core.cache.backends.memcached.PyMemcacheCache",
        "LOCATION": "127.0.0.1:11211",
    }
}
```
–ö–ª–∞—Å—Ç–µ—Ä:
```python
"LOCATION": ["10.0.0.1:11211", "10.0.0.2:11211"]
```
### 3. üü° File-based cache

**–ü–ª—é—Å—ã**: —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.  
**–ú–∏–Ω—É—Å—ã**: –º–µ–¥–ª–µ–Ω–Ω—ã–π, –º–æ–∂–µ—Ç –∑–∞—Å–æ—Ä—è—Ç—å –¥–∏—Å–∫.
#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
```python
CACHES = {
    "default": {
        "BACKEND": "django.core.cache.backends.filebased.FileBasedCache",
        "LOCATION": "/var/tmp/django_cache",
        "OPTIONS": {"MAX_ENTRIES": 1000}
    }
}
```
### 4. üî¥ LocMemCache (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!)
**–ü–ª—é—Å—ã**: –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å.  
**–ú–∏–Ω—É—Å—ã**: –∫—ç—à **–Ω–µ –æ–±—â–∏–π –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏**, —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.
#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞
```python
CACHES = {
    "default": {
        "BACKEND": "django.core.cache.backends.locmem.LocMemCache",
    }
}
```
üö´ **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!**
## ‚ùå –ò–∑–±–µ–≥–∞—Ç—å: Database cache
```python
# –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ‚Äî –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å
"BACKEND": "django.core.cache.backends.db.DatabaseCache"
```
## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- –ö—ç—à ‚Äî **–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**, –Ω–µ –∑–∞–º–µ–Ω–∞ –ë–î.
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π `TIMEOUT` –∏–ª–∏ —Ä–µ–∞–ª–∏–∑—É–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é.
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ ‚Äî **Redis** (–ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–π).
- –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LocMemCache`, –Ω–æ –ª—É—á—à–µ —Å—Ä–∞–∑—É Redis (—á–µ—Ä–µ–∑ Docker).
