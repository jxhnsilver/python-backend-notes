–≠—Ç–æ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö HTTP-–æ—Ç–≤–µ—Ç–æ–≤** (—Å—Ç—Ä–∞–Ω–∏—Ü) **–Ω–∞ —É—Ä–æ–≤–Ω–µ middleware**.  
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç URL, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω, ‚Äî Django **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –∫—ç—à–∞, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è view**.

‚Üí **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –æ—Ç–¥–∞—á–∞ HTML –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î, –ª–æ–≥–∏–∫–µ, —à–∞–±–ª–æ–Ω–∞–º.

## –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. –î–æ–±–∞–≤–∏—Ç—å middleware –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:
```python
MIDDLEWARE = [
    "django.middleware.cache.UpdateCacheMiddleware",  # ‚Üê –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ü–ï–†–í–´–ú
    "django.middleware.common.CommonMiddleware",
    # ... –¥—Ä—É–≥–∏–µ middleware (Session, Auth –∏ —Ç.–¥.)
    "django.middleware.cache.FetchFromCacheMiddleware",  # ‚Üê –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ü–û–°–õ–ï–î–ù–ò–ú
]
```
–ü–æ—Ä—è–¥–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω:

- `UpdateCacheMiddleware` ‚Äî **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** –æ—Ç–≤–µ—Ç –≤ –∫—ç—à ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–µ—Ä–≤—ã–º**, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å ¬´—á–∏—Å—Ç—ã–π¬ª –æ—Ç–≤–µ—Ç.
- `FetchFromCacheMiddleware` ‚Äî **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç** –∫—ç—à –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è view ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–æ—Å–ª–µ–¥–Ω–∏–º —Å—Ä–µ–¥–∏ middleware –¥–æ view**, —á—Ç–æ–±—ã —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ (—è–∑—ã–∫, —Ç–∞–π–º–∑–æ–Ω–∞ –∏ —Ç.–¥.).
### –£–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```python
# settings.py
CACHE_MIDDLEWARE_ALIAS = "default"        # –∫–∞–∫–æ–π –∫—ç—à –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–∏–∑ CACHES)
CACHE_MIDDLEWARE_SECONDS = 600            # –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å 10 –º–∏–Ω—É—Ç
CACHE_MIDDLEWARE_KEY_PREFIX = "myproject" # –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
```
## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ** –Ω–∞ `/about/`:
    - `FetchFromCacheMiddleware` –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª—é—á ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è view.
    - View —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç.
    - `UpdateCacheMiddleware` **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç** HTML-–æ—Ç–≤–µ—Ç –≤ –∫—ç—à –Ω–∞ `600` —Å–µ–∫—É–Ω–¥.
2. **–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö** –Ω–∞ —Ç–æ—Ç –∂–µ URL:
    - `FetchFromCacheMiddleware` **–Ω–∞—Ö–æ–¥–∏—Ç HTML –≤ –∫—ç—à–µ** ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ **—Å—Ä–∞–∑—É**, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è view.

> ‚úÖ –ö—ç—à–∏—Ä—É—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ `GET` –∏ `HEAD`** —Å **—Å—Ç–∞—Ç—É—Å–æ–º 200**.

> ‚úÖ URL —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ ‚Äî **—Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**:  
> `/search?q=apple` ‚â† `/search?q=banana`.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏

–ï—Å–ª–∏ `USE_I18N = True`, —Ç–æ –≤ –∫–ª—é—á –∫—ç—à–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è —è–∑—ã–∫**:

- `/en/about/` –∏ `/ru/about/` ‚Äî **—Ä–∞–∑–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –∫—ç—à–µ**.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–π–º–∑–æ–Ω

–ï—Å–ª–∏ `USE_TZ = True`, —Ç–æ –≤ –∫–ª—é—á —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è **–∞–∫—Ç–∏–≤–Ω–∞—è —Ç–∞–π–º–∑–æ–Ω–∞**.

‚Üí –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É—á–∏—Ç—ã–≤–∞—Ç—å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é ‚Äî Django –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å–∞–º.

## HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∏

Django **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –æ—Ç–≤–µ—Ç:
```http
Expires: Wed, 21 Oct 2025 10:00:00 GMT
Cache-Control: max-age=600
```
‚Üí –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∫—ç—à–∏ (Nginx, Cloudflare, –±—Ä–∞—É–∑–µ—Ä) —Ç–æ–∂–µ –º–æ–≥—É—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.

> üí° –ï—Å–ª–∏ view —Å–∞–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `Cache-Control` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `cache_control()`), –æ–Ω **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** `CACHE_MIDDLEWARE_SECONDS`.

## –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

- –°–∞–π—Ç —Å **–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º** (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –∫–æ—Ä–∑–∏–Ω–∞).
- –°—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ **—á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è**.
- –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ **–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –∫—ç—à **–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**, –ø–æ—ç—Ç–æ–º—É **–≤—Å–µ –ø–æ–ª—É—á–∞—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É**!

> ‚ö†Ô∏è **Per-site cache –ø–æ–¥—Ö–æ–¥–∏—Ç –¢–û–õ–¨–ö–û –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö, —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü**:  
> ‚Äî –ì–ª–∞–≤–Ω–∞—è,  
> ‚Äî –°—Ç–∞—Ç—å–∏,  
> ‚Äî –ö–∞—Ç–∞–ª–æ–≥ (–µ—Å–ª–∏ –Ω–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω).

## ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö view

–ï—Å–ª–∏ per-site cache —Å–ª–∏—à–∫–æ–º –≥—Ä—É–±—ã–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π **–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã**:
```python
from django.views.decorators.cache import cache_page

@cache_page(60 * 15)  # –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å 15 –º–∏–Ω—É—Ç
def article_view(request, id):
    ...
```
‚Üí –ì–∏–±—á–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.
