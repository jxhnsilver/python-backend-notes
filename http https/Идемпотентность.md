**–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (idempotency)** ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞—ë—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á—Ç–æ –∏ –ø–µ—Ä–≤–æ–µ**, –Ω–µ –∏–∑–º–µ–Ω—è—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ.

–í HTTP **–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ **–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ –∏–∑–º–µ–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–Ω–∞—á–µ, —á–µ–º –ø–µ—Ä–≤—ã–π**.

## üîπ 3. –ö–∞–∫–∏–µ HTTP-–º–µ—Ç–æ–¥—ã –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã?

–°–æ–≥–ª–∞—Å–Ω–æ [RFC 7231](https://datatracker.ietf.org/doc/html/rfc7231#section-4.2.2):

| HTTP-–º–µ—Ç–æ–¥ | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π? | –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π? | –ü–æ—è—Å–Ω–µ–Ω–∏–µ                     |
| ---------- | ----------- | -------------- | ----------------------------- |
| **GET**    | ‚úÖ –î–∞        | ‚úÖ –î–∞           | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ                 |
| **PUT**    | ‚ùå –ù–µ—Ç       | ‚úÖ –î–∞           | –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–∞         |
| **DELETE** | ‚ùå –ù–µ—Ç       | ‚úÖ –î–∞           | –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞              |
| **POST**   | ‚ùå –ù–µ—Ç       | ‚ùå –ù–µ—Ç          | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞       |
| **PATCH**  | ‚ùå –ù–µ—Ç       | ‚ö†Ô∏è **–ó–∞–≤–∏—Å–∏—Ç** | –ú–æ–∂–µ—Ç –±—ã—Ç—å, –∞ –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å |

> üìå **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π (Safe)** ‚â† **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π**:
> 
> - **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π** ‚Äî –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ).
> - **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π** ‚Äî –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–æ –ø–æ–≤—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–µ–Ω.

## üîπ 4. –ü—Ä–∏–º–µ—Ä—ã –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã—Ö –∏ –Ω–µ–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ –ü—Ä–∏–º–µ—Ä 1: `PUT` ‚Äî –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω

**–ó–∞–ø—Ä–æ—Å**:
```http
PUT /users/123 HTTP/1.1
Content-Type: application/json

{"name": "Alice", "email": "alice@example.com"}
```
- **–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤**: —Å–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `123`.
- **–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤** (—Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏): —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Ç–∞–∫–æ–π.
- **–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π** ‚Üí ‚úÖ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ.

> –î–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏–µ ‚Äî –∫–∞–∂–¥—ã–π `PUT` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **—Ç–æ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**. –ü–æ–≤—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ `PUT` –Ω–µ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–æ–≤—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.

### ‚úÖ –ü—Ä–∏–º–µ—Ä 2: `DELETE` ‚Äî –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω

**–ó–∞–ø—Ä–æ—Å**:
```http
DELETE /users/123 HTTP/1.1
```
- **–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤**: —É–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí —Å—Ç–∞—Ç—É—Å `204 No Content`.
- **–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —É–¥–∞–ª—ë–Ω ‚Üí —Å—Ç–∞—Ç—É—Å `404 Not Found` **–∏–ª–∏** `204` (–ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é).
- **–ù–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç.

> üîπ RFC –¥–æ–ø—É—Å–∫–∞–µ—Ç, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π `DELETE` –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `404`, –Ω–æ **—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º—É –æ–¥–∏–Ω–∞–∫–æ–≤** ‚Äî —Ä–µ—Å—É—Ä—Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. –ü–æ—ç—Ç–æ–º—É –æ–ø–µ—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ–π.

### ‚ùå –ü—Ä–∏–º–µ—Ä 3: `POST` ‚Äî **–Ω–µ** –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω

**–ó–∞–ø—Ä–æ—Å**:
```http
POST /orders HTTP/1.1
Content-Type: application/json

{"product": "book", "quantity": 1}
```
- **–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤**: —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Ññ1001.
- **–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤**: —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Ññ1002.
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–≤–∞–∂–¥—ã** ‚Üí ‚ùå –Ω–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ.

> ‚ö†Ô∏è –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ—Å–ª–µ `POST` –±—Ä–∞—É–∑–µ—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç: ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã¬ª ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç.