<!-- templates/doctors/detail.html -->
<!DOCTYPE html>
<html>
<head>
    <title>{{ page_title }}</title>
</head>
<body>
    <h1>{{ doctor.full_name }}</h1>

    <p>ID: {{ doctor.id }}</p>
    <p>Фамилия: {{ doctor.last_name }}</p>
    <p>Имя: {{ doctor.first_name }}</p>
    <p>Отчество: {{ doctor.patronymic }}</p>
    <p>Длительность приема: {{ doctor.duration }} минут</p>

    {% if doctor.clinic %}
    <p>Клиника: {{ doctor.clinic.name }} (ID: {{ doctor.clinic.id }})</p>
    {% else %}
    <p>Клиника: Не указана</p>
    {% endif %}

    <h2>Талоны врача</h2>
    {% if talons %}
        <table border="1">
            <tr>
                <th>ID</th>
                <th>Дата</th>
                <th>Время</th>
                <th>Статус</th>
                <th>Действия</th>
            </tr>
            {% for talon in talons %}
            <tr>
                <td>{{ talon.id }}</td>
                <td>{{ talon.date }}</td>
                <!-- Добавьте фильтр time:"H:i" здесь -->
                <td>{{ talon.start_time|time:"H:i" }} - {{ talon.end_time|time:"H:i" }}</td>
                <td>
                    {% if talon.is_free %}
                        <span style="color: green;">Свободен</span>
                    {% else %}
                        <span style="color: red;">Занят</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{% url 'talon_detail' talon.id %}">Подробнее</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>У врача пока нет талонов</p>
    {% endif %}

    <div style="margin-top: 20px;">
        <a href="{% url 'doctors_list' %}">Назад к списку врачей</a> |
        <a href="{% url 'schedules' %}">Расписания</a> |
        <a href="{% url 'talons' %}">Все талоны</a>
    </div>
</body>
</html>