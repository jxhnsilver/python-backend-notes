—ç—Ç–æ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –∏–∑ `dataclasses`**, –∏ –æ–Ω **–∫—Ä–∞–π–Ω–µ –ø–æ–ª–µ–∑–µ–Ω –≤ DDD**, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è **Value Objects (VO)** –∏ –¥—Ä—É–≥–∏—Ö immutable-–æ–±—ä–µ–∫—Ç–æ–≤.

–≠—Ç–æ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ `__init__`** –≤ –∫–ª–∞—Å—Å–∞—Ö, –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –∫–∞–∫ `@dataclass`.

–û–Ω **–Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç `__init__`**, –∞ **–¥–æ–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ** ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

- –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π,
- –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π,
- –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö,
- –∑–∞—â–∏—Ç—É –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.

## üîπ –ö–æ–≥–¥–∞ –∏ –∑–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### ‚úÖ 1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è Value Objects (VO)**

Value Objects –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–≤–∞–ª–∏–¥–Ω—ã–º–∏ –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é**. `__post_init__` ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫.
```python
from dataclasses import dataclass

@dataclass(frozen=True)
class Email:
    value: str

    def __post_init__(self):
        if not self.value or "@" not in self.value:
            raise ValueError("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
email = Email("ilya@example.com")  # OK
# Email("bad")  # ‚Üí ValueError
```
üí° `frozen=True` –¥–µ–ª–∞–µ—Ç VO –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º ‚Äî –∞ `__post_init__` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ **–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤–æ–æ–±—â–µ –Ω–µ —Å–æ–∑–¥–∞—Å—Ç—Å—è**.

### ‚úÖ 2. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**

–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É **—Å—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏**.
```python
@dataclass(frozen=True)
class PhoneNumber:
    raw: str

    def __post_init__(self):
        # –£–±–∏—Ä–∞–µ–º –≤—Å—ë, –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä
        normalized = ''.join(filter(str.isdigit, self.raw))
        if len(normalized) != 11:
            raise ValueError("–ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 11 —Ü–∏—Ñ—Ä")
        # –í dataclass —Å frozen ‚Äî —Ç–∞–∫ –Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é:
        # self.normalized = normalized  # ‚ùå –æ—à–∏–±–∫–∞

# –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ–º __post_init__ —Å object.__setattr__
    def __post_init__(self):
        normalized = ''.join(filter(str.isdigit, self.raw))
        if len(normalized) != 11:
            raise ValueError("–ù–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 11 —Ü–∏—Ñ—Ä")
        object.__setattr__(self, 'normalized', normalized)
```
### ‚úÖ 3. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**

–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ ¬´–¥–µ—à—ë–≤–æ¬ª –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
```python
from dataclasses import dataclass

@dataclass(frozen=True)
class FullName:
    first_name: str
    last_name: str

    def __post_init__(self):
        object.__setattr__(self, 'display_name', f"{self.last_name} {self.first_name}")

name = FullName("–ò–ª—å—è", "–°–º–∏—Ä–Ω–æ–≤")
print(name.display_name)  # ‚Üí –°–º–∏—Ä–Ω–æ–≤ –ò–ª—å—è
```
### ‚úÖ 4. **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –≤ Entity / Aggregate**

–•–æ—Ç—è —á–∞—â–µ VO, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∏ –≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö:
```python
@dataclass
class OrderItem:
    product_id: str
    price: float
    quantity: int

    def __post_init__(self):
        if self.price <= 0:
            raise ValueError("–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π")
        if self.quantity <= 0:
            raise ValueError("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º")
```
## –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ `__post_init__`, –∞ –Ω–µ `__init__`?

–ü–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `@dataclass` **`__init__` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –∏ —Ç—ã **–Ω–µ –ø–∏—à–µ—à—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é**.
```python
# –ë–µ–∑ @dataclass
class Email:
    def __init__(self, value: str):
        if not value or "@" not in value:
            raise ValueError("...")
        self.value = value

# –° @dataclass ‚Äî __init__ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞ —Ç–µ–±—è
@dataclass
class Email:
    value: str  # ‚Üê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º __init__

    def __post_init__(self):  # ‚Üê –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è
        if not self.value or "@" not in self.value:
            raise ValueError("...")
```

## –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

- –ï—Å–ª–∏ —É —Ç–µ–±—è **–Ω–µ—Ç `@dataclass`** ‚Äî —Ç–æ–≥–¥–∞ –ø–∏—à–∏ –ª–æ–≥–∏–∫—É –≤ `__init__`.
- –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –ø–æ–ª–µ–π** ‚Äî –Ω–µ —É—Å–ª–æ–∂–Ω—è–π.

## üí° –ò—Ç–æ–≥: –∑–∞—á–µ–º –Ω—É–∂–µ–Ω `__post_init__`?

| –ó–∞–¥–∞—á–∞           | –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `__post_init__`               |
| ---------------- | ------------------------------------------- |
| –í–∞–ª–∏–¥–∞—Ü–∏—è VO     | ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ VO –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–µ–Ω        |
| –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è     | ‚úÖ –ü—Ä–∏–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–∏–¥—É       |
| –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –ø–æ–ª—è | ‚úÖ –ö—ç—à–∏—Ä—É–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–¥–∞–∂–µ –≤ `frozen`)     |
| –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã       | ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—ä–µ–∫—Ç–∞ |
‚úÖ **–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ DDD –≤ Python**:  
**Value Object + `@dataclass(frozen=True)` + `__post_init__`** =  
–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π, –≤–∞–ª–∏–¥–Ω—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç.