**Call Stack** — это область памяти (ОЗУ), которая работает по принципу **LIFO (Last In, First Out)** и управляет вызовами функций. Это "диспетчер" выполнения программы.

Call Stack в Python — это цепочка frame-объектов в куче, ограниченная по глубине, где хранятся только ссылки на данные, а не сами данные.
### **Что хранится в стеке?**

- **Stack frames (кадры вызовов)** — по одному на каждую запущенную, но ещё не завершённую функцию.
- В каждом фрейме:
    - **Имя функции**
    - Локальные переменные (только ссылки на объекты в куче)
    - **Аргументы функции** — тоже ссылки
    - **Контекста выполнения** (адреса возврата, состояние интерпретатора)

### **Особенности стека в Python**

1. **Автоматическое управление** — не нужно создавать/удалять фреймы вручную.
2. **Ограниченная глубина** — по умолчанию ~1000 вложенных вызовов.  
    При превышении — ошибка `RecursionError`.
3. **Один стек на поток** — но в Python из-за GIL почти всегда работает один поток (в CPU-bound коде).
## **Производительность**

- **Быстро**: доступ к локальным переменным (прямой доступ в frame)
- **Медленно**: доступ к глобальным/builtins (поиск в словарях)
- **Очень медленно**: глубокие рекурсивные вызовы

## **Антипаттерны**

1. Глубокая рекурсия на больших данных
2. Рекурсия без хвостовой оптимизации
3. Большие локальные структуры (хотя объекты в куче, frame всё равно растёт)

### **Глубина рекурсии (не размер стека!)**
По умолчанию: 1000

### **Размер стека**
Python использует ~0.5-1 МБ


### **Почему Python не позволяет бесконечную рекурсию?**

A: Защита от переполнения стека вызовов. Каждый frame потребляет память, лимит предотвращает падение программы.

### **Как работает?**

- Когда функция вызывается — её фрейм **кладётся на вершину стека**.
- Когда функция завершается — её фрейм **снимается со стека**.
- Это происходит **автоматически**, без твоего участия.
### **LIFO — что это?**

- **Last In, First Out** — «последним пришёл — первым ушёл».
- Как стопка тарелок: берёшь **верхнюю**, а не нижнюю.
- В стеке: последняя вызванная функция завершается **первой**.


