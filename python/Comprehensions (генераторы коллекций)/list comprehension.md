## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ list comprehension?

–≠—Ç–æ **–∫—Ä–∞—Ç–∫–∏–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫**, –ø—Ä–∏–º–µ–Ω—è—è **–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** –∏/–∏–ª–∏ **—Ñ–∏–ª—å—Ç—Ä** –∫ –¥—Ä—É–≥–æ–º—É —Å–ø–∏—Å–∫—É (–∏–ª–∏ –ª—é–±–æ–π –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏).

–í–º–µ—Å—Ç–æ 4 —Å—Ç—Ä–æ–∫ —Ü–∏–∫–ª–∞ ‚Äî **1 —Å—Ç—Ä–æ–∫–∞**, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ **–±—ã—Å—Ç—Ä–µ–µ –∏ —á–∏—â–µ**.

## üî∏ –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
```python
[—á—Ç–æ_–¥–µ–ª–∞—Ç—å for —ç–ª–µ–º–µ–Ω—Ç in –∫–æ–ª–ª–µ–∫—Ü–∏—è if —É—Å–ª–æ–≤–∏–µ]
```
- `—á—Ç–æ_–¥–µ–ª–∞—Ç—å` ‚Äî –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–¥ `—ç–ª–µ–º–µ–Ω—Ç–æ–º` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `—ç–ª–µ–º–µ–Ω—Ç * 2`, `—ç–ª–µ–º–µ–Ω—Ç.name`)
- `if —É—Å–ª–æ–≤–∏–µ` ‚Äî **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã

## ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ backend-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
### 1. **–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
```python
# –ë—ã–ª–æ (—Ü–∏–∫–ª):
user_ids = []
for user in users:
    user_ids.append(user.id)

# –°—Ç–∞–ª–æ (comprehension):
user_ids = [user.id for user in users]
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ: –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –ª–æ–≥–æ–≤.

### 2. **–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
```python
active_users = [user for user in users if user.is_active]
```
–ß–∞—Å—Ç–æ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö: ¬´–ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö, –∫—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω/–∞–∫—Ç–∏–≤–µ–Ω/–Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω¬ª.

### 3. **–°–æ–±—Ä–∞—Ç—å email-–∞–¥—Ä–µ—Å–∞ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏**
```python
emails = [user.email for user in users if user.subscribed_to_newsletter]
```
–¢–∏–ø–∏—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è notification-—Å–µ—Ä–≤–∏—Å–∞.
### 4. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å DTO –∏–∑ –º–æ–¥–µ–ª–∏**
```python
# –£ –≤–∞—Å –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ ORM-–º–æ–¥–µ–ª–µ–π
db_orders = session.query(Order).all()

# –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç–µ –≤ DTO –¥–ª—è API
order_dtos = [
    {"id": order.id, "total": order.amount}
    for order in db_orders
]
```
Clean Architecture: —Å–ª–æ–π **application** —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç comprehensions –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞.

### 5. **–ü–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏ (—Å set comprehension)**
```python
roles = {user.role for user in users}  # ‚Üí set, –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```
–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫: ¬´–º–æ–∂–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞—Ç—å X?¬ª
### 6. **–°–æ–±—Ä–∞—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Ñ–∏–ª—å—Ç—Ä + –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)**
```python
errors = [
    f"{field}: required"
    for field in required_fields
    if field not in request_data
]
```

–ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ **—Å–ª–æ–∂–Ω–∞—è** (–º–Ω–æ–≥–æ —É—Å–ª–æ–≤–∏–π, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ if):
```python
# ‚ùå –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å:
result = [x for x in data if x > 0 and x % 2 == 0 and x not in blacklist and is_valid(x)]

# ‚úÖ –õ—É—á—à–µ:
def should_include(x):
    return x > 0 and x % 2 == 0 and x not in blacklist and is_valid(x)

result = [x for x in data if should_include(x)]
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `enumerate`, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∏–Ω–¥–µ–∫—Å**
```python
indexed_users = [(i, user.name) for i, user in enumerate(users)]
```
## –ì–ª–∞–≤–Ω–æ–µ

> **List comprehension ‚Äî —ç—Ç–æ –¥–ª—è _—Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞_.**  
> –ï—Å–ª–∏ –≤—ã –Ω–µ —Å–æ–∑–¥–∞—ë—Ç–µ —Å–ø–∏—Å–æ–∫ ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ.

–≠—Ç–æ **–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π Python**, –∫–æ—Ç–æ—Ä—ã–π:

- **–ë—ã—Å—Ç—Ä–µ–µ** —Ü–∏–∫–ª–∞ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ CPython),
- **–ß–∏—Ç–∞–µ–º–µ–µ**, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ—É—Å–µ—Ä–¥—Å—Ç–≤–æ–≤–∞—Ç—å,
- **–û–∂–∏–¥–∞–µ—Ç—Å—è** –≤ –∫–æ–¥–µ –Ω–∞ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫–∞—Ö –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

### üí°–ì–ª–∞–≤–Ω–æ–µ

> **List comprehension ‚Äî —ç—Ç–æ –¥–ª—è _—Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞_.**  
> –ï—Å–ª–∏ –≤—ã –Ω–µ —Å–æ–∑–¥–∞—ë—Ç–µ —Å–ø–∏—Å–æ–∫ ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ.
### üìå –®–∞–±–ª–æ–Ω:
```python
[–Ω–æ–≤–æ–µ_–∑–Ω–∞—á–µ–Ω–∏–µ for —ç–ª–µ–º–µ–Ω—Ç in –∫–æ–ª–ª–µ–∫—Ü–∏—è if —Ñ–∏–ª—å—Ç—Ä]
```